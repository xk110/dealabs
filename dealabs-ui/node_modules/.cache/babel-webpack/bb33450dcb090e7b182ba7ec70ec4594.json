{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../deal.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"primeng/card\";\nimport * as i4 from \"primeng/button\";\nimport * as i5 from \"primeng/table\";\nimport * as i6 from \"primeng/api\";\nimport * as i7 from \"@angular/common\";\n\nfunction DealListComponent_ng_template_9_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const col_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", col_r5.header, \" \");\n  }\n}\n\nfunction DealListComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, DealListComponent_ng_template_9_th_1_Template, 2, 1, \"th\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const columns_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", columns_r3);\n  }\n}\n\nfunction DealListComponent_ng_template_10_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const col_r9 = ctx.$implicit;\n    const rowData_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", rowData_r6[col_r9.field], \" \");\n  }\n}\n\nfunction DealListComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 10);\n    i0.ɵɵtemplate(1, DealListComponent_ng_template_10_td_1_Template, 2, 1, \"td\", 9);\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵelementStart(3, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function DealListComponent_ng_template_10_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const rowData_r6 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.edit(rowData_r6);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const columns_r7 = ctx.columns;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", columns_r7);\n  }\n}\n\nfunction DealListComponent_ng_template_11_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵelement(1, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DealListComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 10);\n    i0.ɵɵtemplate(1, DealListComponent_ng_template_11_td_1_Template, 2, 0, \"td\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const columns_r13 = ctx.columns;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", columns_r13);\n  }\n}\n\nexport let DealListComponent = /*#__PURE__*/(() => {\n  class DealListComponent {\n    constructor(dealService, router) {\n      this.dealService = dealService;\n      this.router = router;\n    }\n\n    ngOnInit() {\n      const dealObserver = {\n        next: data => {\n          this.deals = data;\n          this.virtualDeals = Array.from({\n            length: data.length\n          });\n        }\n      };\n      this.dealService.getAll().subscribe(dealObserver);\n      this.cols = [{\n        field: 'degree',\n        header: 'Degree'\n      }, {\n        field: 'title',\n        header: 'Title'\n      }, {\n        field: 'description',\n        header: 'Description'\n      }, {\n        field: 'price',\n        header: 'Price'\n      }, {\n        field: 'shippingFees',\n        header: 'Shipping Fees'\n      }, {\n        field: 'link',\n        header: 'Link'\n      }, {\n        field: 'author',\n        header: 'Author'\n      }, {\n        field: 'creationDate',\n        header: 'Creation Date'\n      }, {\n        field: 'startingDate',\n        header: 'Starting Date'\n      }, {\n        field: 'endingDate',\n        header: 'Ending Date'\n      }];\n    }\n\n    edit(i) {\n      this.router.navigate(['/deal-detail', i.id]);\n    }\n\n    loadDealsLazy(event) {\n      //simulate remote connection with a timeout \n      setTimeout(() => {\n        if (this.deals) {\n          this.virtualDeals = this.deals.slice(event.first, (event.first === undefined ? 0 : event.first) + (event.rows === undefined ? 0 : event.rows));\n        }\n      }, 250);\n    }\n\n  }\n\n  DealListComponent.ɵfac = function DealListComponent_Factory(t) {\n    return new (t || DealListComponent)(i0.ɵɵdirectiveInject(i1.DealService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  DealListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DealListComponent,\n    selectors: [[\"app-deal-list\"]],\n    decls: 12,\n    vars: 9,\n    consts: [[1, \"p-card-header\"], [1, \"p-card-content\"], [\"id\", \"actionButtons\", 1, \"mb-3\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"label\", \"add\", \"routerLink\", \"/deal-create\", 1, \"p-button-raised\"], [\"id\", \"table\"], [\"scrollHeight\", \"250px\", 3, \"columns\", \"value\", \"scrollable\", \"rows\", \"virtualScroll\", \"virtualRowHeight\", \"lazy\", \"resizableColumns\", \"autoLayout\", \"onLazyLoad\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"loadingbody\"], [4, \"ngFor\", \"ngForOf\"], [2, \"height\", \"34px\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-search\", 1, \"p-button-rounded\", \"p-button-success\", \"p-button-text\", \"p-button-color\", 3, \"click\"], [1, \"loading-text\"]],\n    template: function DealListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p-card\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵelementStart(2, \"h2\");\n        i0.ɵɵtext(3, \"Dealabs\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 1);\n        i0.ɵɵelementStart(5, \"div\", 2);\n        i0.ɵɵelement(6, \"button\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 4);\n        i0.ɵɵelementStart(8, \"p-table\", 5);\n        i0.ɵɵlistener(\"onLazyLoad\", function DealListComponent_Template_p_table_onLazyLoad_8_listener($event) {\n          return ctx.loadDealsLazy($event);\n        });\n        i0.ɵɵtemplate(9, DealListComponent_ng_template_9_Template, 2, 1, \"ng-template\", 6);\n        i0.ɵɵtemplate(10, DealListComponent_ng_template_10_Template, 4, 1, \"ng-template\", 7);\n        i0.ɵɵtemplate(11, DealListComponent_ng_template_11_Template, 2, 1, \"ng-template\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"columns\", ctx.cols)(\"value\", ctx.virtualDeals)(\"scrollable\", true)(\"rows\", 100)(\"virtualScroll\", true)(\"virtualRowHeight\", 34)(\"lazy\", true)(\"resizableColumns\", true)(\"autoLayout\", true);\n      }\n    },\n    directives: [i3.Card, i4.ButtonDirective, i2.RouterLink, i5.Table, i6.PrimeTemplate, i7.NgForOf],\n    styles: [\".p-button-color[_ngcontent-%COMP%]{color:#000!important}\"]\n  });\n  return DealListComponent;\n})();\n;","map":null,"metadata":{},"sourceType":"module"}